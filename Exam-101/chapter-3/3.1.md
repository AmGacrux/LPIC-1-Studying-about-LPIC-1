## p.95

http://pocketstudio.jp/linux/?%A5%D7%A5%ED%A5%F3%A5%D7%A5%C8%A4%CE%B3%CE%C7%A7%A4%E4%C0%DF%C4%EA

## p.98

~(ユーザー名)でログインユーザーに関わらず、  
そのユーザーのホームディレクトリに飛べる。

```shell
$ sudo su
# cd ~
# pwd
/root
# cd ~user
# pwd
/home/user
```

## p.99

```shell
$ EV=world
$ SV=local
$ export EV
$ bash

# 子プロセスbashでの操作
$ echo $EV
world
$ echo $SV

$ EV='new world'
$ exit

# 親プロセスbashでの操作
$ echo $EV
world
# 子プロセスでの変更は反映されない
```

## p.102

### 一般ユーザの環境変数PATHと/sbin

Ubuntu 18.04LTSもCentOS 7.4も共に一般ユーザーで/sbin/ifconfigが実行できた。

## p.103

### 通常、セキュリティ上の理由から、環境変数PATHにはカレントディレクトリを含めません

https://linuxjf.osdn.jp/JFdocs/Path-12.html

<details><summary>引用符の種類による動作の違い</summary><div>

```shell
$ DATE=2月7日
$ echo $DATE
2月7日

# 単一引用符(')ならそのまま表示される
$ echo '$DATE'
$DATE

# 二重引用符(")なら変数を展開して表示する
$ echo "$DATE"
2月7日
# 二重引用符を使って展開させたくない場合はエスケープする
$ echo "\$DATE"
$DATE
$ echo "変数\$DATEの内容は「$DATE」です。"
変数$DATEの内容は「2月7日」です。

# バッククォート内にコマンドがあればそのコマンドの実行結果が展開され、
# 変数があれば変数に格納されているコマンドを実行した結果が展開

# 試しに上述の$DATE(中身は文字列)をバッククォートで実行させてみる
$ echo `$DATE`
2月7日: コマンドが見つかりません
# 何らかのコマンドを変数に格納する
$ COM=date
$ date
2019年  2月  7日 木曜日 18:01:27 JST
$ COM
COM: コマンドが見つかりません
$ $COM
2019年  2月  7日 木曜日 18:01:42 JST

# バッククォートで展開
$ echo `$COM`
2019年 2月 7日 木曜日 18:02:44 JST
# エスケープしたときの動作が結構謎
$ \$COM
$COM: コマンドが見つかりません
echo `\$COM`
2019年 2月 7日 木曜日 18:03:06 JST
```

</div></details>

## p.107

```shell
$ history | tail -10
 1061  2019/02/07 18:01:42 $COM
 1062  2019/02/07 18:02:44 echo `$COM`
 1063  2019/02/07 18:02:57 echo `\$COM`
 1064  2019/02/07 18:03:01 echo \`$COM`
 1065  2019/02/07 18:03:06 echo `\$COM`
 1066  2019/02/07 18:03:11 \$COM
 1067  2019/02/07 18:03:50 history
 1068  2019/02/07 18:03:56 hist | head -10
 1069  2019/02/07 18:03:59 history | head -10
 1070  2019/02/07 18:04:05 history | tail -10
$ !1061
$COM
2019年  2月  7日 木曜日 18:04:38 JST
$ unset COM
$ !1061
$COM

# !文字列でその文字列から始まるコマンドを実行する
$ !his
history | tail -10
 1067  2019/02/07 18:03:50 history
 1068  2019/02/07 18:03:56 hist | head -10
 1069  2019/02/07 18:03:59 history | head -10
 1070  2019/02/07 18:04:05 history | tail -10
 1071  2019/02/07 18:04:30 ! 1066
 1072  2019/02/07 18:04:38 $COM
 1073  2019/02/07 18:04:55 unset COM
 1074  2019/02/07 18:04:59 ! 1066
 1075  2019/02/07 18:05:42 $COM
 1076  2019/02/07 18:07:48 history | tail -10

# !?文字列でその文字列を含むコマンドを実行する
$ !?mod
lsmod
Module                  Size  Used by
rfcomm                 77824  4
bnep                   20480  2
snd_ens1371            28672  6
snd_ac97_codec        131072  1 snd_ens1371
(一部省略)

# !!で直前に実行した(historyで一番若い?)コマンドを実行する

# !履歴番号でその番号のコマンドを実行する
```

## p.111-112

|コマンド1|コマンド2|検索対象|
|:--|:--|:--|
|man -f|whatis|完全一致したコマンドのセクション一覧を表示|
|man -k|apropos|部分一致したコマンドのセクション一覧を表示|

## p.117

### mkdir -pとrmdir -p

```shell
# 一気に親子階層のディレクトリを作成
$ mkdir -p top/second/third
# 一気に親子のディレクトリを削除
# 一番上のディレクトリだけだとエラーになる
$ rmdir -p top
rmdir: 'top' を削除できません: ディレクトリは空ではありません
# すべての子階層のディレクトリを指定すると削除できる
$ rmdir -p top/second/third
```

## 頭字語まとめ

* PS1(The primary prompt string 1) → PS2もある

http://pocketstudio.jp/linux/?%A5%D7%A5%ED%A5%F3%A5%D7%A5%C8%A4%CE%B3%CE%C7%A7%A4%E4%C1%DF%C4%EA